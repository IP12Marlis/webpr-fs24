<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz - Week 8</title>
</head>
<body>
<script>
    document.writeln("Q18a");

    /*
        Provide a function 'failSafe' that - in curried style - takes
        - a default value
        - a callback function
        - an argument to the callback function
        that returns whatever the callback function returns given its argument
        or the default value if the callback function throws an Error.

        Note: see how the tests make use of failsafe:
     */

    const failSafe = () => {
        const callback = 5;
    }


    function test() {
        const doError = x => { throw new Error() };
        const errorCount = failSafe (1) (doError);

        console.log(failSafe (false) (x=>x) (true) && failSafe (true) (doError) (null) && errorCount(null) === 1);
    }

/*    function handle(callback) {
        return callback( [] );
    }
    document.writeln( handle( it => { it.push(1); return it; } ).length === 1);*/
    // shows 'true'? - yes

/*    function handle(callback) {
        const result = [];
        callback( result );
        return result;
    }
    document.writeln( handle( it => { it.push(1); return it; } ).length === 1);
    // shows 'true'? - yes*/

/*    function handle(count, callback) {
        const result = [];
        for (let i=0; i < count; i++) {
            callback( result );
        }
        return result;
    }
    document.writeln( handle(3, it => it.push(1) ).length === 3);*/
    // shows 'true' - yes

/*    function handle(callback) {
        const result = [];
        return callback( result );
    }
    document.writeln( handle( () => [1] ).length === 1 );*/
    // shows 'true' - yes

    function handle(callback) {
        const result = [];
        callback(result);
        callback(result);
        return result;
    }
    document.writeln( handle( it => it.push(1) ).length === 2);
    // shows 'true' - yes

</script>

</body>
</html>